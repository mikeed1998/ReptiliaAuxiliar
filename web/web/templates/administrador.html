<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='main.css') }}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<title>Reptilia Auxiliar</title>
</head>
<body>
	<header class="site-header">
		<nav class="navbar navbar-expand-md navbar-dark bg-steel fixed-top">
			<div class="container">
				<h1>
					<a class="navbar-brand mr-6" href="/">Reptilia auxiliar</a>
				</h1>
				<h1>
					
				</h1>
			</div>
		</nav>
	</header>
	<h1 align="center"> Panel del administrador </h1><br><br>
	<div class="container">
		<div class="row noMargin">
			<div class="col one">
				<h2>Usuarios</h2>
				<br>
				<table class="table table-striped table-bordered" style="width:100%">
					<thead class="thead-dark">
						<tr>
							<th>ID</th>
							<th>Usuario</th>
							<th>Correo</th>
							<th>Acción</th>
						</tr>
					</thead>
					<tbody>
						{% for usuario in usuarios %}
						<tr>
							<td> {{ usuario.id }} </td>
							<td> {{ usuario.nombre_usuario }} </td>
							<td> {{ usuario.email }} </td>
							<td>
								<form action="{{ url_for('administrador.eliminar_usuario', id_usuario=usuario.id) }}" method="POST">
									<input class="btn btn-danger" type="submit" value="Eliminar">
								</form>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
			<div class="col two">
				 <h2>Publicaciones</h2>
				 <br>

				 <table class="table table-striped table-bordered" style="width:100%">
					<thead class="thead-dark">
						<tr>
							<th>ID</th>
							<th>Titulo</th>
							<th>Autor</th>
							<th>Acción</th>
						</tr>
					</thead>
					<tbody>
						{% for publicacion in publicaciones %}
							<tr>
								<td><p> {{ publicacion.id }} </p></td>
								<td><p> {{ publicacion.titulo }} </p></td>
								<td><p> {{ publicacion.author.nombre_usuario }} </p></td>
								<td>
									<form action="{{ url_for('administrador.eliminar_publicacion', id_publicacion=publicacion.id) }}" method="POST">
										<input class="btn btn-danger" type="submit" value="Eliminar">
									</form>
								</td>
							</tr>
						{% endfor %}	
					</tbody>
				</table>
			</div>
		</div>
		<div class="row noMargin">
			<div class="col three">
				<h2>Peticiones (General)</h2>
				<table id="example" class="table table-striped table-bordered" style="width:100%">
					<thead class="thead-dark">
						<tr>
							<th>Orden</th>
							<th>Familia</th>
							<th>Genero</th>
							<th>Especie</th>
							<th>Subespecie</th>
							<th>Descripción</th>
							<th>Tipo</th>
							<th>Apodo</th>
							<th>Grado Amenaza</th>
							<th>Acción</th>
						</tr>
					</thead>
					<tbody>
						{% for peticion in peticiones %}
							<tr>
								<td>{{ peticion.orden }}</td>
								<td>{{ peticion.familia }}</td>
								<td>{{ peticion.genero }}</td>
								<td>{{ peticion.especie }}</td>
								<td>{{ peticion.subespecie }}</td>
								<td>{{ peticion.descripcion }}</td>
								<td>{{ peticion.tipo }}</td>
								<td>{{ peticion.apodo }}</td>
								<td>{{ peticion.grado_amenaza }}</td>
								<td>
									<form action="{{ url_for('administrador.eliminar_peticion', id_peticion=peticion.id) }}" method="POST">
										<input class="btn btn-danger" type="submit" value="Eliminar">
									</form>
								</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
		<div class="row noMargin">
			<div class="col four">
				<h2>Actualizar apartado general</h2>
				<div class="content-section">
					<form method="POST" action="">
						{{ form.hidden_tag() }}
						<fieldset class="form-group">
							<legend class="border-bottom mb-4"> {{ legend }} </legend>
							<div class="container">
								<div class="row">
									<div class="col-md-2">
										{{ form.orden.label(class="form-control-label col-sm-14 col-form-label") }}
										{% if form.orden.errors %}
											{{ form.orden(class="form-control form-control-lg is-invalid") }}
											<div class="invalid-feedback">
												{% for error in form.orden.errors %}
													<span> {{ error }} </span>
												{% endfor %}
											</div> 
										{% else %}
											{{ form.orden(class="form-control form-control-lg col-sm-14 col-form-label") }}
										{% endif %}
									</div>
									<div class="col-md-2">
										{{ form.familia.label(class="form-control-label col-sm-14 col-form-label") }}
										{% if form.familia.errors %}
											{{ form.familia(class="form-control form-control-lg is-invalid") }}
											<div class="invalid-feedback">
												{% for error in form.familia.errors %}
													<span> {{ error }} </span>
												{% endfor %}
											</div> 
										{% else %}
											{{ form.familia(class="form-control form-control-lg col-sm-14 col-form-label") }}
										{% endif %}
									</div>
									<div class="col-md-2">
										{{ form.genero.label(class="form-control-label col-sm-14 col-form-label") }}
										{% if form.genero.errors %}
											{{ form.genero(class="form-control form-control-lg is-invalid") }}
											<div class="invalid-feedback">
												{% for error in form.genero.errors %}
													<span> {{ error }} </span>
												{% endfor %}
											</div> 
										{% else %}
											{{ form.genero(class="form-control form-control-lg col-sm-14 col-form-label") }}
										{% endif %}
									</div>
									<div class="col-md-2">
										{{ form.especie.label(class="form-control-label col-sm-14 col-form-label") }}
										{% if form.especie.errors %}
											{{ form.especie(class="form-control form-control-lg is-invalid") }}
											<div class="invalid-feedback">
												{% for error in form.especie.errors %}
													<span> {{ error }} </span>
												{% endfor %}
											</div> 
										{% else %}
											{{ form.especie(class="form-control form-control-lg col-sm-14 col-form-label") 	}}
										{% endif %}
									</div>
									<div class="col-md-2">
										{{ form.subespecie.label(class="form-control-label col-sm-14 col-form-label") }}
										{% if form.subespecie.errors %}
											{{ form.subespecie(class="form-control form-control-lg is-invalid") }}
											<div class="invalid-feedback">
												{% for error in form.subespecie.errors %}
													<span> {{ error }} </span>
												{% endfor %}
											</div> 
										{% else %}
											{{ form.subespecie(class="form-control form-control-lg col-sm-14 col-form-label") }}
										{% endif %}
									</div>
									<div class="col-md-2">
										{{ form.tipo.label(class="form-control-label col-sm-14 col-form-label") }}
										{% if form.tipo.errors %}
											{{ form.tipo(class="form-control form-control-lg is-invalid") }}
											<div class="invalid-feedback">
												{% for error in form.tipo.errors %}
													<span> {{ error }} </span>
												{% endfor %}
											</div> 
										{% else %}
											{{ form.tipo(class="form-control form-control-lg col-sm-14 col-form-label") }}
										{% endif %}
									</div>
								</div>
								<div class="row">
									<div class="col-md-4">
										{{ form.descripcion.label(class="form-control-label col-sm-14 col-form-label") }}
										{% if form.descripcion.errors %}
											{{ form.descripcion(class="form-control form-control-lg is-invalid") }}
											<div class="invalid-feedback">
												{% for error in form.descripcion.errors %}
													<span> {{ error }} </span>
												{% endfor %}
											</div> 
										{% else %}
											{{ form.descripcion(class="form-control form-control-lg col-sm-14 col-form-label") }}
										{% endif %}
									</div>
									<div class="col-md-4">
										{{ form.apodo.label(class="form-control-label col-sm-14 col-form-label") }}
										{% if form.apodo.errors %}
											{{ form.apodo(class="form-control form-control-lg is-invalid") }}
											<div class="invalid-feedback">
												{% for error in form.apodo.errors %}
													<span> {{ error }} </span>
												{% endfor %}
											</div> 
										{% else %}
											{{ form.apodo(class="form-control form-control-lg col-sm-14 col-form-label") }}
										{% endif %}
									</div>
									<div class="col-md-2">
										{{ form.grado_amenaza.label(class="form-control-label col-sm-14 col-form-label") }}
										{% if form.grado_amenaza.errors %}
											{{ form.grado_amenaza(class="form-control form-control-lg is-invalid") }}
											<div class="invalid-feedback">
												{% for error in form.grado_amenaza.errors %}
													<span> {{ error }} </span>
												{% endfor %}
											</div> 
										{% else %}
											{{ form.grado_amenaza(class="form-control form-control-lg col-sm-14 col-form-label") }}
										{% endif %}
									</div>
									<div class="col-md-2" align="center">
										<br><br>
										{{ form.enviar(class="btn btn-outline-info btn-lg") }}
									</div>
								</div>
							</div>
						</fieldset>
					</form>
				</div>
			</div>
		</div>
	</div>

	<br><br><br><br><br><br><br><br>

	<footer class="text-center text-white fixed-bottom" style="background-color: #21081a;">
		<div class="container p-2"></div>
		<div class="text-center p-2" style="background-color: rgba(0, 0, 0, 0.2);">
			© 2021 
			<a class="text-white" href="https://mdbootstrap.com/">Reptilia Auxiliar</a>
		</div>
	</footer>

	
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>


